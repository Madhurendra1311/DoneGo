{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/madhu/Documents/DoneGo/Client/src/Components/Modal.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport ExpandMoreOutlinedIcon from \"@material-ui/icons/ExpandMoreOutlined\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport GpsFixedIcon from \"@material-ui/icons/GpsFixed\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport axios from \"axios\";\nimport { useThrottle } from \"use-throttle\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { restaurantList } from '../Redux/Restaurant/action';\nconst useStyles = makeStyles(theme => ({\n  margin: {\n    border: \"3px solid #F3F3F5\",\n    borderRadius: \"20px\",\n    backgroundColor: \"#F3F3F5\",\n    margin: theme.spacing(1)\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\"\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 1),\n    height: \"100%\",\n    position: \"absolute\",\n    left: \"0px\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n}));\nexport default function Modal() {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const throttledText = useThrottle(name, 800); //const [showmap, setShowMap] = useState(\"false\");\n\n  const [lang, setLang] = useState(\"\");\n  const [lat, setLat] = useState(\"\");\n  const [curr, setCurr] = useState(\"Set Location\");\n  const [place, setPlace] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const [scroll, setScroll] = React.useState(\"paper\");\n  const dispatch = useDispatch();\n  const restaurantData = useSelector(state => state.app.restaurantData);\n\n  const handleClickOpen = scrollType => () => {\n    setOpen(true);\n    setScroll(scrollType);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const classes = useStyles();\n  const descriptionElementRef = React.useRef(null);\n  React.useEffect(() => {\n    if (open) {\n      const {\n        current: descriptionElement\n      } = descriptionElementRef;\n\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n  var options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0\n  };\n  var config1 = {\n    method: \"get\",\n    url: `https://api.mapbox.com/geocoding/v5/mapbox.places/${throttledText}.json?country=in&access_token=pk.eyJ1IjoicmFqZXN3YXJpLXN1YnJhbWFuaWFuIiwiYSI6ImNraDBrdjc2aTB5YWIzMHF2MnB1MmlvZmEifQ.WfdLqj4cqkuK8C764Xn2VQ`,\n    headers: {}\n  }; //RESTAURANT SEARCH\n  // var config3 = {\n  //   method: \"get\",\n  //   url: `https://api.mapbox.com/geocoding/v5/mapbox.places/restaurants.json?types=poi&country=in&access_token=pk.eyJ1IjoicmFqZXN3YXJpLXN1YnJhbWFuaWFuIiwiYSI6ImNraDBrdjc2aTB5YWIzMHF2MnB1MmlvZmEifQ.WfdLqj4cqkuK8C764Xn2VQ`,\n  //   headers: {},\n  // };  \n\n  function error(err) {\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n  } //CURRENT LOCATION LANG LAT PLACENAME - Variables are lang, lat,curr\n\n\n  function handleCurrent() {\n    console.log('Hello Current');\n    navigator.geolocation.getCurrentPosition(function success(pos) {\n      var crd = pos.coords;\n      axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${crd.longitude},${crd.latitude}.json?types=locality&access_token=pk.eyJ1IjoicmFqZXN3YXJpLXN1YnJhbWFuaWFuIiwiYSI6ImNraDBrdjc2aTB5YWIzMHF2MnB1MmlvZmEifQ.WfdLqj4cqkuK8C764Xn2VQ`).then(function (response) {\n        console.log(response);\n        let temp = response.data.features[0].place_name.split(\",\");\n        setCurr(`${temp[0]},${temp[1]}`);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      setLang(crd.longitude);\n      setLat(crd.latitude);\n      let payload = {\n        lang: crd.longitude,\n        lat: crd.latitude\n      };\n      dispatch(restaurantList(payload));\n    }, error, options);\n    setOpen(false);\n  }\n\n  function handleEnter(e) {\n    e.target.style.background = \"#F3F3F5\";\n  }\n\n  function handleLeave(e) {\n    e.target.style.background = \"#ffffff\";\n  } //SELECTED PLACE LANG LAT PLACENAME - Variables are lang, lat,curr\n\n\n  function handlePlace(e) {\n    setName(e.target.value);\n    axios(config1).then(function (response) {\n      response.data.features.map(item => {\n        let temp1 = item.place_name.split(\",\");\n        setPlace(place => [...place, {\n          name: `${temp1[0]},${temp1[1]}`\n        }]);\n        setLang(item.center[0]);\n        setLat(item.center[1]);\n        let payload = {\n          lang: lang,\n          lat: lat\n        };\n        dispatch(restaurantList(payload));\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  useEffect(() => {\n    handleCurrent();\n  }, []); //console.log(\"current\", lang, lat, curr);\n  //console.log(\"restdata\",restaurantData)\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.search,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"rgb(0, 210, 144)\"\n        },\n        className: classes.searchIcon,\n        children: /*#__PURE__*/_jsxDEV(LocationOnIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleClickOpen(\"paper\"),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: \"20px\",\n          overflow: \"hidden\",\n          textOverflow: \"ellipsis\",\n          maxHeight: \"20px\",\n          whiteSpace: \"nowrap\",\n          textTransform: \"none\",\n          maxWidth: \"100px\",\n          minWidth: \"130px\"\n        },\n        children: curr\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"rgb(0, 210, 144)\"\n        },\n        children: /*#__PURE__*/_jsxDEV(ExpandMoreOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      fullWidth: true,\n      style: {\n        maxHeight: \"450px\"\n      },\n      maxWidth: \"sm\",\n      onClose: handleClose,\n      scroll: scroll,\n      \"aria-labelledby\": \"scroll-dialog-title\",\n      \"aria-describedby\": \"scroll-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        style: {\n          textAlign: \"center\"\n        },\n        id: \"scroll-dialog-title\",\n        children: \"Add your Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: scroll === \"paper\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          fullWidth: true,\n          className: classes.margin,\n          placeholder: \"Enter area, building name\",\n          autoComplete: true,\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)\n          },\n          onChange: e => handlePlace(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"text.disabled\",\n          onClick: () => handleCurrent(),\n          children: [\" \", /*#__PURE__*/_jsxDEV(GpsFixedIcon, {\n            style: {\n              color: \"#00D290\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), \" Use Current Location\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"scroll-dialog-description\",\n          ref: descriptionElementRef,\n          tabIndex: -1,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingLeft: \"5px\"\n            },\n            children: [place.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"auto\",\n                width: \"100px\",\n                marginTop: \"10%\",\n                border: \"0px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                width: \"100\",\n                height: \"100\",\n                src: \"https://ik.imagekit.io/dunzo/web-assets/images/partner_placeholder-f479db944bcaa4a7cc8451f617179d82.png?tr=w-450,h-350,cm-pad_resize\",\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), place.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"SEARCH RESULTS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 38\n            }, this), place.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onMouseEnter: e => handleEnter(e),\n                onMouseLeave: e => handleLeave(e),\n                onClick: () => {\n                  setCurr(item.name);\n                  setOpen(false);\n                },\n                children: i > place.length - 6 && i <= place.length - 1 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this), item.name, item.lang, item.lat, /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 19\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        style: {\n          position: \"absolute\",\n          top: \"8px\",\n          left: \"520px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"black\",\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Modal, \"NL6fHcfhDb2jgDgsXjaLl2pHGJU=\", false, function () {\n  return [useThrottle, useDispatch, useSelector, useStyles];\n});\n\n_c = Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["/home/madhu/Documents/DoneGo/Client/src/Components/Modal.jsx"],"names":["React","useState","useEffect","Typography","fade","makeStyles","Button","LocationOnIcon","ExpandMoreOutlinedIcon","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","GpsFixedIcon","InputAdornment","SearchIcon","axios","useThrottle","useSelector","useDispatch","restaurantList","useStyles","theme","margin","border","borderRadius","backgroundColor","spacing","search","position","shape","palette","common","white","marginRight","marginLeft","width","breakpoints","up","searchIcon","padding","height","left","pointerEvents","display","alignItems","justifyContent","Modal","name","setName","throttledText","lang","setLang","lat","setLat","curr","setCurr","place","setPlace","open","setOpen","scroll","setScroll","dispatch","restaurantData","state","app","handleClickOpen","scrollType","handleClose","classes","descriptionElementRef","useRef","current","descriptionElement","focus","options","enableHighAccuracy","timeout","maximumAge","config1","method","url","headers","error","err","console","warn","code","message","handleCurrent","log","navigator","geolocation","getCurrentPosition","success","pos","crd","coords","get","longitude","latitude","then","response","temp","data","features","place_name","split","catch","payload","handleEnter","e","target","style","background","handleLeave","handlePlace","value","map","item","temp1","center","color","overflow","textOverflow","maxHeight","whiteSpace","textTransform","maxWidth","minWidth","textAlign","startAdornment","paddingLeft","length","marginTop","i","top"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport ExpandMoreOutlinedIcon from \"@material-ui/icons/ExpandMoreOutlined\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport GpsFixedIcon from \"@material-ui/icons/GpsFixed\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport axios from \"axios\";\nimport { useThrottle } from \"use-throttle\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport {restaurantList} from '../Redux/Restaurant/action'\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    border: \"3px solid #F3F3F5\",\n    borderRadius: \"20px\",    \n    backgroundColor: \"#F3F3F5\",\n    margin: theme.spacing(1),\n  },\n  search: {\n    position: \"relative\",\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: \"100%\",\n    [theme.breakpoints.up(\"sm\")]: {\n      marginLeft: theme.spacing(1),\n      width: \"auto\",\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 1),\n    height: \"100%\",\n    position: \"absolute\",\n    left: \"0px\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function Modal() {\n  const [name, setName] = useState(\"\");\n  const throttledText = useThrottle(name, 800);\n  //const [showmap, setShowMap] = useState(\"false\");\n  const [lang, setLang] = useState(\"\");\n  const [lat, setLat] = useState(\"\");\n  const [curr, setCurr] = useState(\"Set Location\");\n  const [place, setPlace] = useState([]);\n  const [open, setOpen] = React.useState(false);\n  const [scroll, setScroll] = React.useState(\"paper\");\n  const dispatch = useDispatch()\n\n  const restaurantData = useSelector(state => state.app.restaurantData)\n  const handleClickOpen = (scrollType) => () => {\n    setOpen(true);\n    setScroll(scrollType);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const classes = useStyles();\n\n  const descriptionElementRef = React.useRef(null);\n\n  React.useEffect(() => {\n    if (open) {\n      const { current: descriptionElement } = descriptionElementRef;\n      if (descriptionElement !== null) {\n        descriptionElement.focus();\n      }\n    }\n  }, [open]);\n  var options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0,\n  };  \n\n  var config1 = {\n    method: \"get\",\n    url: `https://api.mapbox.com/geocoding/v5/mapbox.places/${throttledText}.json?country=in&access_token=pk.eyJ1IjoicmFqZXN3YXJpLXN1YnJhbWFuaWFuIiwiYSI6ImNraDBrdjc2aTB5YWIzMHF2MnB1MmlvZmEifQ.WfdLqj4cqkuK8C764Xn2VQ`,\n    headers: {},\n  };\n\n  //RESTAURANT SEARCH\n  // var config3 = {\n  //   method: \"get\",\n  //   url: `https://api.mapbox.com/geocoding/v5/mapbox.places/restaurants.json?types=poi&country=in&access_token=pk.eyJ1IjoicmFqZXN3YXJpLXN1YnJhbWFuaWFuIiwiYSI6ImNraDBrdjc2aTB5YWIzMHF2MnB1MmlvZmEifQ.WfdLqj4cqkuK8C764Xn2VQ`,\n  //   headers: {},\n  // };  \n\n  function error(err) {\n    console.warn(`ERROR(${err.code}): ${err.message}`);\n  }\n\n  //CURRENT LOCATION LANG LAT PLACENAME - Variables are lang, lat,curr\n  function handleCurrent() {\n    console.log('Hello Current');\n    navigator.geolocation.getCurrentPosition(function success(pos) {\n      var crd = pos.coords;\n      axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${crd.longitude},${crd.latitude}.json?types=locality&access_token=pk.eyJ1IjoicmFqZXN3YXJpLXN1YnJhbWFuaWFuIiwiYSI6ImNraDBrdjc2aTB5YWIzMHF2MnB1MmlvZmEifQ.WfdLqj4cqkuK8C764Xn2VQ`)\n        .then(function (response) {\n          console.log(response);\n          let temp = response.data.features[0].place_name.split(\",\");\n          setCurr(`${temp[0]},${temp[1]}`);\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n      setLang(crd.longitude);\n      setLat(crd.latitude);\n      let payload = {\n        lang: crd.longitude,\n        lat: crd.latitude\n      }\n      dispatch(restaurantList(payload))\n    }, error, options);\n    setOpen(false);\n  }  \n\n  function handleEnter(e) {\n    e.target.style.background = \"#F3F3F5\";\n  }\n\n  function handleLeave(e) {\n    e.target.style.background = \"#ffffff\";\n  }\n\n  //SELECTED PLACE LANG LAT PLACENAME - Variables are lang, lat,curr\n  function handlePlace(e) {\n    setName(e.target.value);   \n    axios(config1)\n      .then(function (response) {\n        response.data.features.map((item) => {\n          let temp1 = item.place_name.split(\",\");\n          setPlace((place) => [\n            ...place,\n            {\n              name: `${temp1[0]},${temp1[1]}`,\n            },\n          ]);\n          setLang(item.center[0]);\n          setLat(item.center[1]);\n          let payload = {\n            lang: lang,\n            lat: lat\n        }\n          dispatch(restaurantList(payload))\n        });\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\nuseEffect(() => {\n  handleCurrent()\n}, [])\n\n//console.log(\"current\", lang, lat, curr);\n//console.log(\"restdata\",restaurantData)\n\n  return (\n    <>\n      <div className={classes.search}>\n        <div\n          style={{ color: \"rgb(0, 210, 144)\" }}\n          className={classes.searchIcon}\n        >\n          <LocationOnIcon />\n        </div>\n      </div>\n      <Button\n        onClick={handleClickOpen(\"paper\")}        \n      >\n        <span style={{ marginLeft: \"20px\",overflow: \"hidden\",textOverflow: \"ellipsis\", maxHeight:\"20px\",whiteSpace:\"nowrap\",   textTransform: \"none\" ,maxWidth:\"100px\",minWidth:\"130px\"}}>{curr}</span>\n        <div style={{ color: \"rgb(0, 210, 144)\" }}>\n          <ExpandMoreOutlinedIcon />\n        </div>\n      </Button>\n      <Dialog\n        open={open}\n        fullWidth\n        style={{ maxHeight: \"450px\" }}\n        maxWidth=\"sm\"\n        onClose={handleClose}\n        scroll={scroll}\n        aria-labelledby=\"scroll-dialog-title\"\n        aria-describedby=\"scroll-dialog-description\"\n      >\n        <DialogTitle style={{ textAlign: \"center\" }} id=\"scroll-dialog-title\">\n          Add your Location\n        </DialogTitle>\n        <DialogContent dividers={scroll === \"paper\"}>\n          <TextField\n            autoFocus\n            fullWidth\n            className={classes.margin}\n            placeholder=\"Enter area, building name\"\n            autoComplete\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon />\n                </InputAdornment>\n              ),\n            }}\n            onChange={(e) => handlePlace(e)}\n          />\n          <Typography color=\"text.disabled\" onClick={() => handleCurrent()}>\n            {\" \"}\n            <GpsFixedIcon style={{ color: \"#00D290\" }} /> Use Current Location\n          </Typography>\n          <hr />\n          <DialogContentText\n            id=\"scroll-dialog-description\"\n            ref={descriptionElementRef}\n            tabIndex={-1}\n          >\n            <div style={{ paddingLeft: \"5px\" }}>\n              {place.length === 0 && (\n                <div\n                  style={{\n                    margin: \"auto\",\n                    width: \"100px\",\n                    marginTop: \"10%\",\n                    border: \"0px\",\n                  }}\n                >\n                  <img\n                    width=\"100\"\n                    height=\"100\"\n                    src=\"https://ik.imagekit.io/dunzo/web-assets/images/partner_placeholder-f479db944bcaa4a7cc8451f617179d82.png?tr=w-450,h-350,cm-pad_resize\"\n                    alt=\"\"\n                  />\n                </div>\n              )}\n              {place.length !== 0 && <div>SEARCH RESULTS</div>}\n              {place.map((item, i) => (\n                <div key={i}>\n                  <div\n                    onMouseEnter={(e) => handleEnter(e)}\n                    onMouseLeave={(e) => handleLeave(e)}\n                    onClick={() => {\n                      setCurr(item.name);\n                      setOpen(false);\n                    }}\n                  >\n                    {i > place.length - 6 && i <= place.length - 1 ? (\n                      <p>\n                        {\" \"}\n                        <SearchIcon />\n                        {item.name}\n                        {item.lang}\n                        {item.lat}\n                        <hr />\n                      </p>\n                    ) : null}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions\n          style={{ position: \"absolute\", top: \"8px\", left: \"520px\" }}\n        >\n          <Button onClick={handleClose} color=\"black\">\n            X\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}