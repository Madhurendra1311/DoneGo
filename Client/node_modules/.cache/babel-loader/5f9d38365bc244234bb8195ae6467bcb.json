{"ast":null,"code":"import jwt_decode from \"jwt-decode\";\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, LOGOUT } from './actionTypes';\nimport { loadData, saveData } from '../LocalStorage';\nconst {\n  userId,\n  mobileNo\n} = jwt_decode(loadData('token'));\nconst initState = {\n  isLoading: false,\n  isError: false,\n  isAuth: loadData('isAuth') || false,\n  message: \"\",\n  token: \"\",\n  userId: userId,\n  mobileNo: mobileNo\n};\n\nconst signinReducer = (state = initState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case LOGIN_REQUEST:\n      return { ...state,\n        isLoading: true,\n        isError: false,\n        isAuth: false\n      };\n\n    case LOGIN_SUCCESS:\n      saveData('isAuth', true);\n      return { ...state,\n        //isLoading: false,\n        //isError: payload.error,\n        isAuth: true // message: payload.message ? payload.message : \"\",\n        //token: payload.token ? payload.token : \"\"\n\n      };\n\n    case LOGIN_FAILURE:\n      return { ...state,\n        isLoading: false,\n        isError: true,\n        isAuth: false\n      };\n\n    case LOGOUT:\n      saveData('isAuth', false);\n      return {\n        isAuth: false\n      };\n\n    default:\n      return { ...state\n      };\n  }\n};\n\nexport default signinReducer;","map":{"version":3,"sources":["/home/madhu/Documents/DoneGo/Client/src/Redux/User/reducer.js"],"names":["jwt_decode","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","loadData","saveData","userId","mobileNo","initState","isLoading","isError","isAuth","message","token","signinReducer","state","type","payload"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,aAAvC,EAAsDC,MAAtD,QAAoE,eAApE;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,iBAAnC;AAEA,MAAM;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,IAAuBR,UAAU,CAACK,QAAQ,CAAC,OAAD,CAAT,CAAvC;AACA,MAAMI,SAAS,GAAG;AACdC,EAAAA,SAAS,EAAE,KADG;AAEdC,EAAAA,OAAO,EAAE,KAFK;AAGdC,EAAAA,MAAM,EAAEP,QAAQ,CAAC,QAAD,CAAR,IAAsB,KAHhB;AAIdQ,EAAAA,OAAO,EAAE,EAJK;AAKdC,EAAAA,KAAK,EAAE,EALO;AAMdP,EAAAA,MAAM,EAAEA,MANM;AAOdC,EAAAA,QAAQ,EAAEA;AAPI,CAAlB;;AAUA,MAAMO,aAAa,GAAG,CAACC,KAAK,GAAGP,SAAT,EAAoB;AAAEQ,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAApB,KAA0C;AAC5D,UAAQD,IAAR;AACI,SAAKhB,aAAL;AACI,aAAO,EACH,GAAGe,KADA;AAEHN,QAAAA,SAAS,EAAE,IAFR;AAGHC,QAAAA,OAAO,EAAE,KAHN;AAIHC,QAAAA,MAAM,EAAE;AAJL,OAAP;;AAMJ,SAAKV,aAAL;AACII,MAAAA,QAAQ,CAAC,QAAD,EAAW,IAAX,CAAR;AACA,aAAO,EACH,GAAGU,KADA;AAEH;AACA;AACAJ,QAAAA,MAAM,EAAE,IAJL,CAKH;AACA;;AANG,OAAP;;AAQJ,SAAKT,aAAL;AACI,aAAO,EACH,GAAGa,KADA;AAEHN,QAAAA,SAAS,EAAE,KAFR;AAGHC,QAAAA,OAAO,EAAE,IAHN;AAIHC,QAAAA,MAAM,EAAE;AAJL,OAAP;;AAMJ,SAAKR,MAAL;AACIE,MAAAA,QAAQ,CAAC,QAAD,EAAW,KAAX,CAAR;AACA,aAAO;AACHM,QAAAA,MAAM,EAAE;AADL,OAAP;;AAGJ;AACI,aAAO,EACH,GAAGI;AADA,OAAP;AA/BR;AAmCH,CApCD;;AAsCA,eAAeD,aAAf","sourcesContent":["import jwt_decode from \"jwt-decode\";\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, LOGOUT } from './actionTypes'\nimport { loadData, saveData } from '../LocalStorage'\n\nconst { userId, mobileNo } = jwt_decode(loadData('token'));\nconst initState = {\n    isLoading: false,\n    isError: false,\n    isAuth: loadData('isAuth') || false,\n    message: \"\",\n    token: \"\",\n    userId: userId,\n    mobileNo: mobileNo\n}\n\nconst signinReducer = (state = initState, { type, payload }) => {\n    switch (type) {\n        case LOGIN_REQUEST:\n            return {\n                ...state,\n                isLoading: true,\n                isError: false,\n                isAuth: false\n            }\n        case LOGIN_SUCCESS:\n            saveData('isAuth', true)\n            return {\n                ...state,\n                //isLoading: false,\n                //isError: payload.error,\n                isAuth: true,\n                // message: payload.message ? payload.message : \"\",\n                //token: payload.token ? payload.token : \"\"\n            }\n        case LOGIN_FAILURE:\n            return {\n                ...state,\n                isLoading: false,\n                isError: true,\n                isAuth: false\n            }\n        case LOGOUT:\n            saveData('isAuth', false)\n            return {\n                isAuth: false\n            }\n        default:\n            return {\n                ...state\n            }\n    }\n}\n\nexport default signinReducer"]},"metadata":{},"sourceType":"module"}